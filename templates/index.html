<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PSX â€“ Port Scanner eXtreme</title>
  <style>
    /* Styles for loading animation, threat level bar, and modal */
    #loading {
      display: none;
      /* Add your Rasengan-style animation styles here */
    }
    #threat-level {
      width: 100%;
      background-color: #ddd;
    }
    #threat-level-bar {
      width: 0%;
      height: 20px;
      background-color: green;
    }
    #permission-modal {
      display: none;
      /* Add your modal styles here */
    }
  </style>
</head>
<body>
  <!-- Permission Modal -->
  <div id="permission-modal">
    <p>Do you want to start the scan?</p>
    <button id="yes-button">Yes</button>
    <button id="no-button">No</button>
  </div>

  <!-- Loading Animation -->
  <div id="loading">
    <!-- Rasengan-style animation elements -->
    <p>Scanning...</p>
  </div>

  <!-- Threat Level Indicator -->
  <div id="threat-level">
    <div id="threat-level-bar"></div>
  </div>

  <script>
    // Show permission modal on page load
    window.onload = function() {
      document.getElementById('permission-modal').style.display = 'block';
    };

    // Handle "Yes" button click
    document.getElementById('yes-button').onclick = function() {
      document.getElementById('permission-modal').style.display = 'none';
      startScan();
    };

    // Handle "No" button click
    document.getElementById('no-button').onclick = function() {
      // Attempt to close the window
      window.open('', '_self').close();
    };

    function startScan() {
      // Show loading animation
      document.getElementById('loading').style.display = 'block';

      // Simulate scan delay
      setTimeout(function() {
        // Hide loading animation
        document.getElementById('loading').style.display = 'none';

        // Update threat level bar (example value)
        var threatLevel = 70; // Replace with actual threat level
        var bar = document.getElementById('threat-level-bar');
        bar.style.width = threatLevel + '%';
        bar.style.backgroundColor = getThreatColor(threatLevel);
      }, 3000);
    }

    function getThreatColor(level) {
      if (level < 30) return 'green';
      if (level < 70) return 'orange';
      return 'red';
    }
  </script>
</body>
</html>
